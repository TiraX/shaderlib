<% include header.ejs %>

  <script type="text/javascript" src="js/gunzip.min.js"></script>
  <script type="text/javascript" src="tixjs/tix.js"></script>

      <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="navbar-header">
           <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> 
           <span class="sr-only">Toggle navigation</span>
           <span class="icon-bar"></span><span class="icon-bar"></span>
           <span class="icon-bar"></span></button> 
           <a class="navbar-brand" href="#">Brand</a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li>
               <a href="#"><strong>MyModel</strong></a>
            </li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li>
               <button type="button" class="btn btn-default navbar-btn" style="margin-right:10px;">EXIT</button>
            </li>
            <li>
               <button type="button" class="btn btn-primary navbar-btn" style="margin-right:20px;">SAVE SETTINGS</button>
            </li>
          </ul>
          
          
        </div>
      </nav>
        <blockquote>
          <p>
            <br></p>
        </blockquote>

      <div class="row show-grid">
        <div class="col-md-3">
          <div class="tabbable" id="tabs-384742">
            <ul class="nav nav-tabs">
              <li class="active">
                 <a href="#panel-material" data-toggle="tab">Material</a>
              </li>
              <li>
                 <a href="#panel-344845" data-toggle="tab">Section 2</a>
              </li>
            </ul>
            <div class="tab-content">
              <div class="tab-pane active" id="panel-material">
                <p>
                  Material Settings.
                </p>
              </div>
              <div class="tab-pane" id="panel-344845">
                <p>
                  Howdy, I'm in Section 2.
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-9" style="background-color: #dedef8;">
          <p> test content </p>
          <canvas id="webgl">
            Your browser do not support webgl.
          </canvas>
        </div>
      </div>

  <script type="text/javascript" charset="utf-8" >
	function main() {
      var canvas = document.getElementById("webgl");
      if (!canvas)
      {
        console.log("Failed to retrieve the canvas element");
        return false;
      }
	  var tix = new TiEngine(canvas);
	  tix.LoadMesh("files/<%= fid %>/<%= model %>");
	  //tix.LoadMesh("../build/res/acyl.tidae");
	  window.addEventListener( 'resize', onWindowResize, false );
	}

	function onWindowResize() {
	  var renderer = renderer_instance;
	  var canvas = renderer._canvas;
	  var camera = engine_instance._render_stage._camera;
	  renderer.SetViewport(0, 0, canvas.innerWidth, canvas.innerHeight);
	  camera.SetAspect(canvas.innerWidth / canvas.innerHeight);

	  engine_instance.NotifyRender();

	}
	main();
  </script>
<% include footer.ejs %>